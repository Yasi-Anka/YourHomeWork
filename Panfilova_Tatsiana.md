# Конспект

Git и Visual Studio необходимо устанавливать на один диск.

После установки необходимо «представиться» системе контроля версий. Это нужно сделать всего один раз, и git запомнит вас. Для этого нужно ввести в терминале 2 команды:

- git config --global user.name «Ваше имя английскими буквами»
- git config --global user.email ваша

почта@example.com

Репозиторий - хранилище (папка) где файлы подвержены контролю версий (скрытая папка .GIT если её удалить то удалятся все данные гита, сами файлы работ останутся в исходной папке)

Обычно репозиторий хранят на гитхабе

Не называть папку с фалами с пробелами или русскими буквами.

**Начало работы:**

1 Создать папку (репозиторий)

2 Открыть в VSC папку

3 Открыть окно терминала ctrl+`

4 Проверка работы версии git - -version

5 Инициализация git init

6 Создать файл и дать название с расширением

git status - узнать статус (сохранения commits)

7 Команду можно напечатать с клавиатуры, а можно вызвать стрелочками если набирали раньше

cd .. - вернуться на папку выше

сd .\название\ - вернуться в папку с указанным названием

**Руководство по работе с файлом:** 

1. Внести изменения

2. Сохранить изменения ctrl+S ( белый кружок сверху если не сохранено)

1. Добавить к отслеживанию

git add .\название\ (можно через Tab искать название - добавить к отслеживаемым файлам текущее состояние файла (нужно применять каждый раз)

Если слева название файла:

- белое без буквы ( необходимо инициализироваться через git init)
- зелёное и буква U то файл не отслеживается
- зелёное и буква А - файл отслеживается
- оранжевый буква M - файл был отслеживаемым, но появилась новая информация, которая не зафиксирована

4. Фиксация git commit -m”Описание точки фиксации, что было выполнено”

Первый обычно “Initial commit”

> !После каждых изменений необходимо сохранять в файл через ctrl+S!
> 

**Возможные проблемы:**

Если какой-то глюк в терминале - можно перезапустить окно терминала (нажать на корзину над терминалом и открыть терминал заново)

Untracked files: - файл не от слеживается

Changes to be committed: -файл отслеживается

**Слияние веток:**

1 Перейти в ветку куда необходимо перенести “черновик” (git checkout <name_branch>)

2 Командой git merge <name_branch> выполнить слияние

**При слиянии:**

Fast-forward (при слиянии веток) означает что ветки слились как продолжение, не как альтернативный вариант.

Merge made by the 'ort' strategy. - слияние произошло без конфликтов, но в ветках были разные изменения

В этом случае создаётся изменённый слитый коммит автоматически. Коммит “Merge branch 'название влившейся ветки”

Конфликт слияния:

![Конфликт.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/259d95ca-2157-468e-a9dd-5bd702647a3c/%D0%9A%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82.png)

**GitHub инструкция по работе:**

1 Создать аккаунт на github.com

2 Создать локальный репозиторий

3 “Подружить” локальный и удалённый репозиторий. Git hub при создании нового репозитория подскажет как это делать

![Создание репозитория на гитхабе.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/28ff3735-24e5-4a26-811b-9bd5459a6ba4/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D1%8F_%D0%BD%D0%B0_%D0%B3%D0%B8%D1%82%D1%85%D0%B0%D0%B1%D0%B5.png)

4 Отправить (push) ваш локальный репозиторий в удалённый (Github), при этом вам, возможно, нужно будет авторизироваться на удалённом репозитории

5 Провести изменения “с другого компьютера”

6 Выкачать (pull) актуальное состояние из удалённого репозитория

**Создать репозиторий на хабе и синхр. с локальным:**

1. Создать репозиторий на хабе
2. Создать репозиторий локально, сделать файл [README.md](http://README.md)  (слева от него будет i в синем кружке)
3. “Подружить” удалённый и локальный репозитории (ввести в терминал команды, хаб подсказывает)
    
    git init
    
    git add
    
    git commit
    
    git branch -M ( master = или другое название)- изменяет название главной ветви
    
    git remote add origin ссылка на репозиторий на хабе
    
    `git push -u origin master` -  создать ветку в удалённом репозитории (аналог локальной на удалённом)
    

если git log даёт commit красным цветом origin/master - то на хабе не синхронизировано. Нужно git push

Что бы синхронизировать новые локальные коммиты с удалённым репозиторием: git push

**Работа в удалённом репозитории на гитхабе:**

1. открыть файл необходимый (карандашик)
2. внести изменения
3. Внизу документа сделать коммит и сохранить

**Скачать с удалённого репозитория на локальный**

**Как сделать pull request** (предложить изменения в чужой репозиторий)

1 Делаем Fork интересующего нас аккаунта

Fork - одновременно копирует и создает новую ветку

![ФОРК.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5927151e-9cb8-43cf-841e-9e6d8aa553a9/%D0%A4%D0%9E%D0%A0%D0%9A.png)

Дальше можно вносить изменения прямо на хабе, а можно с локального гита, смори ниже

2 Закрываем папку (если открыта) в гите на пк. И клонируем репозиторий себе на пк одним из способов:

- тыкаем “Клонировать репозиторий” вводим ссылку на репозиторий в окошко. Выбираем в открывшимся меню и т.д.
- открыть папку — создать папку — в терминале git clone (ссылка на удалённый репозиторий) — спуститься на папку вглубь при помощи cd (название)

3 Создаём ветку с предлагаемыми изменениями. git branch (name_branch)

4 Производим все изменения только в этой ветке

5 Слить ветки локальную и удалённую:

- Отправить новую созданную ветку на хаб git push --set-upstream origin name_branch
- подтвердить на хабе
    
    ![Слияние веток локальной с хабом.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/751de956-d1d8-4503-a70e-95ca7288b920/%D0%A1%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B5%D1%82%D0%BE%D0%BA_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D1%81_%D1%85%D0%B0%D0%B1%D0%BE%D0%BC.png)
    

5 Отправляем эти изменения на свой аккаунт

6 В окне на github появляется возможность отправить pull request с нашими изменениями

**Вставить изображение**

1 Файл с изображением добавить в папку с репозиторием

2 Внести изменения в рабочем файле (например в [Markdown](https://www.notion.so/68a51d79db704f43bf9396760c5f6c7c))

Если добавить файл (картинку) и внести изменения в рабочем файле,  то это будет 2 файла:

- с картинкой
- с изменениями

Обычно используют только файл с изменениями, не нагружая  картинками.

Что бы **избавиться от файла с изображением**:

1 создать файл дополнительный для “мусора” (слева) gitignor

2 добавить в него изображение

тогда в гитстатусе не будет “зависшего” не сохранённого файла

**КОМАНДЫ**

git add * - добавить ВСЕ файлы к отслеживанию

git add (название) можно начать печатать+таб - добавить файл к отслеживанию

git commit -m”Комментарий”

git log - журнал изменений

если в конце знак : значит журнал открыт не полностью. Раскрыть полностью - стрелочка вниз или enter

Q - выйти из журнала

git checkout (название, можно первые 4 символы из названия) - перейти к нужному сохранению

git checkout master - вернуться к актуальной версии

git diff - показывает изменения в файле

git status  - отображает состояние рабочего каталога и раздела проиндексированных файлов.

clear - очистить видимую зону окна терминала

git branch - посмотреть в какой ветке и существующие ветки

git branch *<branch_name>* - создать новую ветку

git checkout название ветки - перейти в ветку с названием

*git merge <branch_name>* - команда, oсуществляющая слияние веток

git branch -d - *<branch_name> -  удаление ветки (удаляет только если всё скопировано)*

git branch -D - удаляет ветку даже если она не скопирована

git log - - graph - журнал изменений по всем веткам

git commit --amend -m"<new version of message>” - изменить последний комментарий, если в нём была ошибка.

git cd (название папки) уйти на одну папку глубже

git cd .. - подняться на одну папку вверх

git clone (адрес репозитория на хабе) - копировать внешний репозиторий на пк

git pull - скачать всё из текущего репозитория и автоматически сделать merge с нашей версией

git push - обновить на хабе информацию

git branch -M( master = или другое название)- изменяет название главной ветви

git remote add origin master(если ветка мастер, если нет то другое название) - дать название ветке на хабе

**Дополнительные не изученные команды**

git reset - -hard HEAD~1 - возврат к коммиту перед сливанием веток (hard отменяет все текущие изменения)

git reset - -hard (commit-before-the-merge(ид коммита)) - возврат к коммиту

git reflog

git reset - -merge reflod - откат мержа

git merge - -abort - откат мержа назад